&ACCESS RVP
&REL 1
&PARAM TEMPLATE = C:\KRC\Roboter\Template\vorgabe
&PARAM EDITMASK = *

DEF sample_with_folds()

; FOLD INI;%{PE}
DEFAULT ;%{PE}
;%{PE}
; Initialization section with special comments that should be hidden
DECL POS home_pos
DECL POS work_pos
home_pos = {X 600.0, Y 0.0, Z 600.0, A 0.0, B 0.0, C 0.0}
work_pos = {X 400.0, Y 200.0, Z 150.0, A 0.0, B 90.0, C 0.0}
; ENDFOLD

; FOLD Main Program
  ; Main processing loop
  FOR i = 1 TO 10
    
    ; FOLD Movement Sequence
    ;FOLD Parameters ;%{h}
    ; These hidden parameters should not be visible
    ;%{h} VEL=100 %
    ; ENDFOLD
    
    PTP home_pos VEL=100 % DEFAULT
    PTP work_pos VEL=50 % FINE
    
    ; FOLD Process Step
    ; Perform work at position
    $OUT[1] = TRUE
    WAIT SEC 1.0
    $OUT[1] = FALSE
    ; ENDFOLD
    
    ; ENDFOLD Movement Sequence
    
  ENDFOR
; ENDFOLD Main Program

; FOLD Cleanup;%{PE}
; Final cleanup operations
PTP home_pos VEL=100 % DEFAULT
DEFAULT ;%{PE}
; ENDFOLD

END